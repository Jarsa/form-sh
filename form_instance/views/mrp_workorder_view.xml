<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <record model="ir.ui.view" id="view_mrp_workorder_inherit_custom_kanban">
        <field name="name">view.mrp.workorder.inherit.custom.kanban</field>
        <field name="model">mrp.workorder</field>
        <field name="inherit_id" ref="mrp.workcenter_line_kanban"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='product_uom_id']" position="after">
                <field name="date_planned_start"/>
                <field name="production_id" invisible="1"/>
            </xpath>
            <xpath expr="//div[hasclass('oe_kanban_content')]" position="inside">
                <div>
                    <strong><span>Date Planned Start - </span></strong><span><t t-esc="record.date_planned_start.value"/></span>
                </div>
            </xpath>
        </field>
    </record>
    <record model="ir.ui.view" id="mrp_workorder_custom_form">
        <field name="name">mrp_workorder_custom.form</field>
        <field name="model">mrp.workorder</field>
        <field name="inherit_id" ref="mrp_workorder.mrp_workorder_view_form_inherit_workorder"/>
        <field name="arch" type="xml">
            <xpath expr="//button[@name='open_tablet_view']" position="replace">
                <field name="availability" invisible="1"/>
                <button name="open_tablet_view" type="object" string="Process" attrs="{'invisible': ['|', ('state', 'not in', ('ready', 'progress')), ('availability', '!=', 'assigned')]}"/>
            </xpath>
        </field>
    </record>
    <record id="mrp.mrp_workorder_todo" model="ir.actions.act_window">
        <field name="domain">[('production_id.availability','=','assigned')]</field>
    </record>
</odoo>
